var app=new Vue({el:"#app",data:{devDependencies:[],active:{name:null,main:[],description:null,homepage:null,license:null,version:null},s:null,message:null,searchResult:[],searchResultShow:"none"},methods:{showDetail:function(e,n){var s=this;$.getJSON("../libs/"+e+"/bower.json",function(i){s.active.main=[],s.active.name=e,s.s=e,"string"==typeof i.main?s.active.main.push(i.main):s.active.main=i.main,s.active.version=n.replace("~",""),s.active.description=i.description,s.active.homepage=i.homepage,s.active.license=i.license})},select:function(e,n){this.showDetail(e,n),"block"===this.searchResultShow&&(this.searchResultShow="none")},inputBlur:function(){setTimeout(function(){this.searchResultShow="none"},500)},checkUpdate:function(){var e=$("#checkUpdate").button("loading"),n=this;$.ajax({url:"index.php",type:"post",data:{name:n.active.name,version:n.active.version,action:"checkupdate"},success:function(n){console.log(n),e.button("reset")}})},search:function(){var e=this;if(null!==e.s){var n=[];_.each(e.devDependencies,function(s,i){-1!==i.indexOf(e.s)&&n.push({name:i,version:s})}),1===n.length?e.select(n[0].name,n[0].version):0===n.length?(e.searchResult=[],e.message="鏆傛棤鎼滅储缁撴灉锛屽湪绾挎悳绱腑...",$.ajax({url:"index.php",type:"post",data:{name:e.s,action:"search"},success:function(n){var s=[];_.each(n,function(e,n){if(0===n)return!1;var i=e.split(" "),t={};t[i[0]]=i[1],s.push(t)}),console.log(s),e.searchResult=n}})):e.searchResult=n}}}});$.getJSON("/bower.json",function(e){app.devDependencies=e.devDependencies;var n=[];_.each(e.devDependencies,function(e,s){var i={};i.name=s,i.version=e,i.install=!0,n.push(i)}),app.searchResult=n,setTimeout(function(){jQuery(".installed").find("li")[0].click()},500)});